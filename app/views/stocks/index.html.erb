<div class="container-fluid">
  <header class="jumbotron subhead" id="overview">
    <div class="subnav">
      <ul class="nav nav-pills">
        <li class="active"><a href="storage.html">成品仓库</a></li>
        <li><a href="/stock_history">进销记录</a></li>
      </ul>
    </div>
  </header>
  <div class="row-fluid">
    <ul class="breadcrumb" style="position:relative;">
      <li><a href="/stocks">仓库管理</a><span class="divider">/</span></li>
      <li class="active">成品仓库</li>
      <li style="position:absolute;right:15px;top:6px;"><a href="/stock_products/new" class="btn_alert">新增商品</a></li>
    </ul><!-- breadcrumb -->

    <form class="well form-horizontal reset_space">
      <fieldset>
        <legend class="font14">筛选条件：</legend>
        <div class="control-group form-inline">
          <label class="control-label">库存状态：</label>
          <div class="controls">
            <label class="radio pad_t5">
              <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked="">
              正常
            </label>
            <label class="radio pad_t5">
              <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
              满仓
            </label>
            <label class="radio pad_t5">
              <input type="radio" name="optionsRadios" id="optionsRadios3" value="option3">
              预警
            </label>
          </div>
        </div>
        <div class="control-group form-inline">
          <div class="controls">
            <select class="width_auto">
              <option>商品编号</option>
              <option>淘宝id</option>
              <option>商品名称</option>
            </select>
            <input type="text" class="input-large" id="">
          </div>
        </div>
        <div class="control-group form-inline">
          <label class="control-label">商品分类：</label>
          <div class="controls">
            <select class="width_auto">
              <option>全部</option>
              <option>网络特供商品</option>
              <option>内墙乳胶漆</option>
              <option>外墙乳胶漆</option>
              <option>木器漆</option>
              <option>DIY色彩系列</option>
              <option>輔助材料</option>
            </select>
          </div>
        </div>

        <div class="form-actions noborder">
          <button type="submit" class="btn btn-primary">筛选</button>
          <button class="btn">重置</button>
        </div>
      </fieldset>
    </form>

    <table class="table table-striped table-bordered table-condensed vertical_mid">
      <thead>
        <tr>
          <th>图片</th>
          <th>名称</th>
          <th>分类</th>
          <th>淘宝ID</th>
          <th>商品状态</th>
          <th>库存状态</th>
          <th>可用库存</th>
          <th>实际库存</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
      	<% @products.each do |product| %>
        <tr>
          <td></td>
          <td><%= product.name %></td>
          <td>all</td>
          <td><%= product.taobao_id %></td>
          <td><%= product.status %></td>
          <td>满仓</td>
          <td><%= product.activity %></td>
          <td><%= product.actual %></td>
          <td>
          	<a href='javascript:void(0)' onclick='show_storage_in(<%= product.id %>)' >入库</a>
          	<a>|</a>
          	<a href='javascript:void(0)' onclick='show_storage_out(<%= product.id %>)'>出库</a>
          	<a>|</a>
          	<a href="/stock_history">进销记录</a>
          	<a>|</a>
          	<%= link_to '编辑', edit_stock_product_path(product) %>
          	<a>|</a>
          	<%= link_to '删除', stock_product_path(product), method: :delete, confirm: '确认删除?' %>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>

    <div class="pagination">
      <ul class="pull-right">
        <li><a href="#">上一页</a></li>
        <li class="active">
          <a href="#">1</a>
        </li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">下一页</a></li>
      </ul>
    </div><!-- pagination ends -->
  </div>
</div>

<%= form_tag '/stock_history', id: 'storage_in', class: 'form-horizontal modal hide fade', remote: true %>
	<input type='hidden' class='modal_product_id' name='stock_history[stock_product_id]'>
	<input type='hidden' class='modal_product_operation' name='stock_history[operation]' value='入库'>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h4>入库操作</h4>
  </div>
  <div class="modal-body">
    <fieldset>
      <div class="control-group">
        <label class="control-label" for="">商品名称：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_name"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">实际库存：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_actual"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">可用库存：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_activity"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">*入库数量：</label>
        <div class="controls">
          <input type="text" class="input-small" name="stock_history[number]">件
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">入库原因：</label>
        <div class="controls">
          <select class="width_auto" name='stock_history[reason]'>
            <option value='i1'>生产入库</option>
            <option value='i0'>其他原因</option>
          </select>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">备注：</label>
        <div class="controls">
          <input type="text" class="input-xlarge" name='stock_history[note]'>
        </div>
      </div>
    </fieldset>
  </div>
  <div class="modal-footer">
    <!-- <a href="#" class="btn" data-dismiss="modal">Close</a> -->
    <button type='submit' class="btn btn-primary">确定</button>
  </div>
</form>

<%= form_tag '/stock_history', id: 'storage_out', class: 'form-horizontal modal hide fade', remote: true %>
	<input type='hidden' class='modal_product_id' name='stock_history[stock_product_id]'>
	<input type='hidden' class='modal_product_operation' name='stock_history[operation]' value='出库'>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h4>出库操作</h4>
  </div>
  <div class="modal-body">
    <fieldset>
      <div class="control-group">
        <label class="control-label" for="">商品名称：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_name"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">实际库存：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_actual"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">可用库存：</label>
        <div class="controls">
          <span class="input-xlarge uneditable-input modal_product_activity"></span>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">*出库数量：</label>
        <div class="controls">
          <input type="text" class="input-small" name="stock_history[number]">件
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">出库原因：</label>
        <div class="controls">
          <select class="width_auto" name='stock_history[reason]'>
            <option value='o1'>生产入库</option>
            <option value='o0'>其他原因</option>
          </select>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label" for="">备注：</label>
        <div class="controls">
          <input type="text" class="input-xlarge" name='stock_history[note]'>
        </div>
      </div>
    </fieldset>
  </div>
  <div class="modal-footer">
    <button type='submit' class="btn btn-primary">确定</button>
  </div>
</form>
