<style>
  .input-small.select2.product {
  width: 504px!important;
  }
</style>

<div class="control-group">
  <%= f.label :product_id_eq,raw("<code>商品名称</code>"),:class => "pull-left"  %>
  <div class="controls pull-left">
    <%= f.select :product_id_eq,current_account.products.collect {|x| [x.name,x.id]},
    {:include_blank => true},{:class => "input-small pull-left select2 product all"}  %>
  </div>
  <div class="pull-left">
    <button type="button pull-left" class="btn btn-info search" id="simple_search_button">筛选</button>
  </div>
</div>
<div class="control-group">
  <label class="pull-left width"><code>地域：</code></label>
  <div class="controls pull-left">
    <select id="" class="level_1 input-medium input-small pull-left" name="op_state">
      <option>省</option>
    </select>
    <select id="" class="level_2 input-medium input-small pull-left" name="op_city">
      <option>市</option>
    </select>
    <select id="" class="level_3 input-medium input-small pull-left" name="op_district">
      <option>区</option>
    </select>
  </div>
</div>
<% content_for :tail do %>
<script type="text/javascript" charset="utf-8">
$(function() {
  var options = {
    data  : linkage_data
  }

  var sel = new LinkageSelect(options);
  sel.bind('.level_1','<%= params[:op_state] %>');
  sel.bind('.level_2','<%= params[:op_city] %>');
  sel.bind('.level_3','<%= params[:op_district] %>');

  $.each($('form').find("select.all"),function(){
    $(this).select2({
      placeholder: "全部",
      allowClear: true
    });
  })
})
</script>
<% end %>